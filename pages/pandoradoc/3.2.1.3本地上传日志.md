为了帮助大家快速了解智能日志分析平台，我们提供文件上传功能，上传后可用它来尝试各种功能，如日志实时输出、日志查询、字段分析、统计报表、仪表盘、告警等。

# **上传文件**

进入[实时查看](https://portal.qiniu.com/pandora/logdb/real?timestamp=&repo=)页面，点击搜索栏下方的`上传文件`按钮，开始上传本地文件(不超过 2MB)到目的仓库中。

![](https://pandora-kibana.qiniu.com/upload_with_analysis.png)

1.选择仓库。

![](https://pandora-kibana.qiniu.com/upload_interface.png)

2.选择示例数据：在日志列表选择一条日志作为示例数据进行解析，并选择对日志读取模式：`单行`或者`多行`。

![](https://pandora-kibana.qiniu.com/example_data1.png)

# **配置解析规则提取字段**

3.对示例数据选择解析方法，日志分析服务提供按`仓库已有规则`、`正则表达式`、`固定分隔符`、`JSON 解析`四种字段提取方式提取日志里面的字段，方便后续分析。

![](https://pandora-kibana.qiniu.com/choose_analysis_method.png)

4.提取字段

**使用仓库已有的解析规则**

若选择已有仓库且该仓库已有解析规则入库，可选仓库已有解析规则对数据进行解析。系统会判断择已有解析规则是否适用于新上传的数据，若规则适合，则直接展示规则解析结果，若规则不合适，则予以错误提示。

![](https://pandora-kibana.qiniu.com/logdb/existed_rule.png)

![](https://pandora-kibana.qiniu.com/logdb/existed_rule2.png)

**正则表达式提取字段**

通过鼠标在示例数据上划取想要抽取的字段，并对字段设置名称和类型。字段提取好之后，系统会自动生成正则表达式，并尝应用生成的正则表达式试对全部原始文件进行解析。您可以通过匹配数量查看设置的提取规则是否匹配全部日志，根据匹配结果对提取规则做调整。

![正则表达式数据抽取](https://pandora-kibana.qiniu.com/zhengze_analysis_.png)

**固定分隔符提取字段**

根据原始数据格式选择合适的分隔符（如逗号，空格，制表位）对数据进行解析，一键生成字段，字段名称与类型可编辑。通过固定分隔符方式提取字段方便快捷，但只适用于 csv 等格式比较简单的文件。

![固定分隔符数据抽取](https://pandora-kibana.qiniu.com/csv_analysis_.png)

**JSON 解析**

JSON 解析方式只适用于解析 JSON 格式的数据，一键解析，无需复杂操作。

![](https://pandora-kibana.qiniu.com/json_analysis_.png)

# **将解析规则入库**

5.保存解析规则并将解析规则入库

* 保存解析规则，这样解析规则可复用，下次您创建实时仓库可直接将已有规则绑定仓库。

* 将此规则设置为默认解析规则，在仓库有多个解析规则的情况下，默认解析规则优先级最高。

此时仓库已经绑定好了刚刚创建好的解析规则，您可以去解析规则列表可以查看所有解析规则及其详情。

![](https://pandora-kibana.qiniu.com/detailedRULE.png)

# **查看实时日志验证上传是否成功**

选择仓库，输入过滤条件，点击`开始`即可看到刚刚上传的全部日志内容。