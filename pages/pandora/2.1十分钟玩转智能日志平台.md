智能日志管理平台是七牛云提供的、针对海量日志收集、存储、查询、计算的日志分析服务，您可以通过智能日志管理平台完成日志的采集、查询分析、计算以及投递到 http 等其他产品做进一步分析。

本文档在 mac 环境下，为您演示通过 logkit Pro 采集 日志完成日志的查询分析并投递到的基本流程。本案例涉及采集日志、日志查询分析、数据计算、数据投递等日志服务基本功能，是智能日志管理平台的入门级操作指南。

在开始本次教程之前，请确保您已经拥有七牛账号并开通了智能日志平台的服务。开通步骤请阅读[开通产品](/insight/manual/4605/opening-the-product)。

# **1.采集日志**
## **安装 logkit Pro**

1.[点此](https://pandora-dl.qiniu.com/logkit-pro_mac_v0.2.1.tar.gz)下载 mac OS 系统的 logkit Pro 到本地。

其他系统的 logkit Pro 下载地址请阅读 [logkit Pro 下载](/insight/tools/4818/logkit-pro-download)。

解压后您可以看到：

![](https://pandora-kibana.qiniu.com/logkitPro/conf.png)

其中 ```logkit.conf``` 为主配置文件，用于配置 logkit Pro 的 web 页面及端口配置:

![](https://pandora-kibana.qiniu.com/logkitPro/apache_conf.png)

 ```bind_host``` 是设置绑定的端口，启动后可以根据这个配置打开 logkit Pro 的 web 页面，默认的端口为 `3000`。

2.通过命令行进入 logkit Pro 所在的文件夹，输入：

```
./logkit-pro -f logkit-pro.conf
```

启动 logkit Pro。

3.打开浏览器访问，输入：

http://127.0.0.1:3000

访问 logkit Pro。

![logkit首页](https://odum9helk.qnssl.com/FoPsWnVSjGJ3FzyigTDVAoq60MoF)

## **登录 logkit Pro**

在 logkit Pro 首页右上角，点击`登录`。

![本地登录](https://pandora-kibana.qiniu.com/quickstart/login.png)

使用本地登录，默认用户名和密码都是 admin。

## **采集日志**

进入数据收集页面，点击**添加收集器**开始采集日志流程。

![](https://pandora-kibana.qiniu.com/quickstart/logkit_collect.png)

### **添加数据源**

第一步是添加数据源，logkit Pro 支持多种数据源，这里选择从文件读取，填写您的日志所在路径即可。

填写好配置信息之后，点击【获取数据】，验证获取数据是否成功。

![](https://pandora-kibana.qiniu.com/logkitPro/nginx.png)

### **数据解析**

这一步根据日志格式配置合适解析方式，抽取日志中的字段。logkit Pro 支持多种格式的日志解析，这里我们选择按 grok 格式解析。logkit Pro 提供了一些默认表达式的支持，其中``` %{COMMON_LOG_FORMAT}``` 就可以解析 Nginx 日志。然后点击解析样例数据，查看解析是否成功。

![](https://pandora-kibana.qiniu.com/logkitPro/nginx_parser.png)

### **数据转换**

这一步可以做一些更精细的字段解析。在这里，我们跳过这一步，直接点击`下一步`。

![](https://pandora-kibana.qiniu.com/logkitPro/nginx_transform.png)

### **发送数据**

将数据发送至日志分析平台，填写日志分析仓库名称即可。

同时需要填写工作流名称与数据源名称，将日志发送到工作流平台，方便在工作流平台对数据进行计算。

![](https://pandora-kibana.qiniu.com/logkitPro/nginx_send.png)

# **2.查询分析 & 可视化**

# **3.数据计算 & 投递**



